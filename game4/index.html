<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Apple Pencil なぞりゲーム</title>
  <link rel="stylesheet" href="style.css" />
</head>

<body>
  <div class="game-container">
    <div class="container">

      <!-- ■■■ Start Screen ■■■ -->
      <div id="startScreen" class="screen">
        <h1 class="game-title mb-8">Apple Pencil なぞりゲーム</h1>
        <p class="mb-16">図形をなぞって<span class="highlight">たくさん点数</span>を取ろう！</p>

        <!-- 形ボタン -->
        <section class="option-group">
          <h2 class="option-title">① 形をえらぼう</h2>
          <div id="shapeButtons" class="btn-row">
            <button data-shape="triangle" class="option-btn">🔺 三角形</button>
            <button data-shape="square"   class="option-btn">⬛ 四角形</button>
            <button data-shape="circle"   class="option-btn">⚪ 円</button>
            <button data-shape="spiralCW" class="option-btn">🌀↻ ぐるぐる</button>
            <button data-shape="spiralCCW" class="option-btn">🌀↺ ぐるぐる</button>
          </div>
        </section>

        <!-- 入力方法 -->
        <section class="option-group">
          <h2 class="option-title">② つかうどうぐ</h2>
          <div id="inputButtons" class="btn-row">
            <button data-input="pen" class="option-btn">✍️ Pencil</button>
            <button data-input="any" class="option-btn">☝️ 指</button>
          </div>
        </section>

        <!-- 制限時間 -->
        <section class="option-group">
          <h2 class="option-title">③ じかんをえらぼう</h2>
          <div id="timeButtons" class="btn-row">
            <button data-time="10" class="option-btn">⏱️ 10秒</button>
            <button data-time="20" class="option-btn">⏱️ 20秒</button>
            <button data-time="30" class="option-btn">⏱️ 30秒</button>
          </div>
        </section>

        <!-- プレビュー -->
        <canvas id="previewCanvas" width="600" height="400" class="mt-16"></canvas>

        <!-- スコア表示 -->
        <section class="scoreboards mt-16">
          <h3 class="mb-4">🎖️ トップ3</h3>
          <table id="topScoresTable"></table>

          <h3 class="mt-16 mb-4">📜 直近10件</h3>
          <table id="recentScoresTable"></table>
        </section>

        <button id="startButton" class="btn btn--primary btn--lg mt-24">START!</button>
      </div>

      <!-- ■■■ Game Screen ■■■ -->
      <div id="gameScreen" class="screen hidden">
        <div class="game-ui mb-8">
          <span>⏳ <span id="timer">10</span> 秒</span>
          <span class="ml-16">🏆 <span id="score">0</span> 点</span>
        </div>
        <canvas id="gameCanvas" width="600" height="400"></canvas>
        <button id="backToTopButton" class="btn btn--secondary btn--lg mt-16">トップにもどる</button>
      </div>

      <!-- ■■■ End Screen ■■■ -->
      <div id="endScreen" class="screen hidden">
        <h2 class="mb-8">おわり！</h2>
        <p class="mb-4">あなたのスコア: <span id="finalScore">0</span> 点</p>
        <p id="resultMessage" class="mb-16"></p>
        <button id="playAgainButton" class="btn btn--primary btn--lg mb-8">もういちど！</button>
        <button id="changeShapeButton" class="btn btn--secondary btn--lg" onclick="showStartScreen()">トップへ</button>
      </div>
    </div>
  </div>

  <script src="app.js"></script>
</body>
</html>
