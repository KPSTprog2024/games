<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>つみき数あてゲーム</title>
    <link rel="stylesheet" href="style.css">
    <script src="app.js" defer></script>
</head>
<body>
    <div class="orientation-guide" id="orientationGuide">
        <div class="rotate-icon">📱→🔄</div>
        <h2>よこむきに してね！</h2>
        <p>デバイスを よこに まわしてください</p>
    </div>

    <div class="app-container" id="appContainer">
        <div class="screen active" id="startScreen">
            <div class="middle-section" style="height: 100%;">
                <div style="text-align: center;">
                    <div class="logo">🧱 つみき数あて</div>
                    <div class="menu-buttons">
                        <button class="btn btn-primary btn-large" onclick="startRandom()">ランダムであそぶ</button>
                        <button class="btn btn-primary btn-large" onclick="showModeSelect()">モードをえらぶ</button>
                    </div>
                </div>
            </div>
        </div>

        <div class="screen" id="modeSelectScreen">
            <button class="back-btn btn" onclick="showStart()">← もどる</button>
            <div class="top-section">
                <h2 class="question-text">モードを えらんでね</h2>
            </div>
            <div class="middle-section">
                <div class="mode-grid">
                    <div class="mode-card" onclick="selectMode('A1')">
                        <h3>みえるぶんだけ かぞえる</h3>
                        <p>かんたん カウント</p>
                    </div>
                    <div class="mode-card" onclick="selectMode('A2')">
                        <h3>かくれてる ぶんも かぞえる</h3>
                        <p>すいり カウント</p>
                    </div>
                    <div class="mode-card" onclick="selectMode('C1')">
                        <h3>しろだけ かぞえる</h3>
                        <p>いろ ルール</p>
                    </div>
                    <div class="mode-card" onclick="selectMode('C2')">
                        <h3>くろだけ かぞえる</h3>
                        <p>いろ ルール</p>
                    </div>
                    <div class="mode-card" onclick="selectMode('B1')">
                        <h3>ひだり と みぎ どっち？</h3>
                        <p>くらべる もんだい</p>
                    </div>
                    <div class="mode-card" onclick="selectMode('D3')">
                        <h3>ずを みて つくる</h3>
                        <p>ずけい すいり</p>
                    </div>
                </div>
            </div>
            <div class="bottom-section"></div>
        </div>

        <div class="screen" id="difficultyScreen">
            <button class="back-btn btn" onclick="showModeSelect()">← もどる</button>
            <div class="top-section">
                <h2 class="question-text">むずかしさを えらんでね</h2>
            </div>
            <div class="middle-section">
                <div class="difficulty-buttons">
                    <button class="btn btn-primary btn-large difficulty-btn" onclick="startGame(1)">Lv.1<br>やさしい</button>
                    <button class="btn btn-primary btn-large difficulty-btn" onclick="startGame(2)">Lv.2<br>ふつう</button>
                    <button class="btn btn-primary btn-large difficulty-btn" onclick="startGame(3)">Lv.3<br>むずかしい</button>
                </div>
            </div>
            <div class="bottom-section"></div>
        </div>

        <div class="screen" id="questionScreen">
            <button class="back-btn btn" onclick="showStart()">← やめる</button>
            <div class="progress-info" id="progressInfo">1 / 5</div>
            <div class="top-section">
                <h2 class="question-text" id="questionText">つみきは ぜんぶで なんこ かな？</h2>
            </div>
            <div class="middle-section" id="questionMiddle">
                <div class="canvas-container" id="canvasContainer">
                    <canvas id="mainCanvas"></canvas>
                </div>
            </div>
            <div class="bottom-section" id="questionBottom">
                <div class="number-grid" id="numberGrid"></div>
                <button class="btn btn-primary btn-large" onclick="submitAnswer()">こたえを きめる</button>
            </div>
        </div>

        <div class="screen" id="resultScreen">
            <div class="middle-section" style="height: 100%;">
                <div style="text-align: center;">
                    <div class="result-icon" id="resultIcon">🎉</div>
                    <div class="result-text" id="resultText">せいかい！</div>
                    <div class="result-buttons">
                        <button class="btn btn-primary btn-large" onclick="nextQuestion()">つぎへ</button>
                        <button class="btn btn-secondary btn-large" onclick="showStart()">ホームへ</button>
                    </div>
                </div>
            </div>
        </div>
    </div>
</body>
</html>
