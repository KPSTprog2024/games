# ゲーム仕様書: game9

## 概要
Phaser 3 を用いて実装した記憶トレーニングゲームです。数字または色の位置を覚えてタップする基本ルールは game1 と同じですが、スコア制や連続成功ボーナスを導入して、子どもがわくわくしながら記憶力を鍛えられるようにしました。

## 画面構成
1. **SelectionScene**
   - 表示時間、グリッドサイズ、ゲームモード(数字 / 色)を選択する画面。
   - すべて選択すると「スタート」ボタンが有効になり、`CountdownScene` へ遷移します。
2. **CountdownScene**
   - 3 から 1 までカウントダウンを行った後、`GameScene` を開始します。
3. **GameScene**
   - 選択した設定に基づいてグリッドを表示し、数字または色を一定時間だけ表示します。
   - 正しいセルをタップするとスコアが増え、ミスするとスコアが減ります。
   - 連続して正解した回数に応じてボーナスを表示し、成功体験を演出します。
   - すべての正しいセルをタップするとクリアとなります。
4. **ClearScene**
   - クリアメッセージとともに現在のスコアを表示し、簡易的な花火エフェクトを出します。
   - 「もういちど」で同レベルを再挑戦、「つぎのれべる」で次レベルを開始。
5. **RetryScene**
   - ゲームオーバー画面。正解位置を表示し、誤ったセルには "×" を表示します。
   - 「もういちど」で同レベルをやり直し、「さいしょから」で設定選択に戻ります。

## 共通仕様
- 画面サイズに応じてフォントやボタンサイズを計算し、レスポンシブに表示します。
- クリックエリアをグリッド上に配置してホバーやタップを検知します。
- レベルがグリッドのマス数を超える場合はエラー表示後に選択画面へ戻します。
- クリア時には複数のハッピーな花火パターンをランダム表示し、メッセージもランダムに選ばれます。
