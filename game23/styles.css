:root{
  --bg:#f6f8ff;
  --ink:#243043;
  --muted:#7b8aa0;
  --panel:#ffffff;
  --accent:#5b7cff;
  --accent-weak:#8ea4ff;
  --focus:#ffd166;
  --success:#22c55e;
  --radius:18px;
  --shadow:0 10px 28px rgba(30,45,70,.12);
}

*{box-sizing:border-box}
html,body{height:100%}
body{
  margin:0; color:var(--ink); background:
    radial-gradient(120% 150% at 25% 0%, #ffffff 0%, #eef2ff 55%, #e9efff 100%);
  font-family:"Noto Sans JP", ui-sans-serif, system-ui, -apple-system, "Segoe UI", sans-serif;
  -webkit-font-smoothing:antialiased; -moz-osx-font-smoothing:grayscale;
}

/* カード共通 */
.card{
  background:var(--panel);
  border-radius:var(--radius);
  box-shadow:var(--shadow);
}

/* 画面レイアウト */
.screen{
  max-width:1100px;
  margin:24px auto;
  padding:20px;
}
.subtitle{
  color:var(--muted);
  margin:-6px 0 14px;
  font-size:14px;
}

/* スタートUI */
.button-container{
  display:flex; flex-direction:column; align-items:center; gap:18px;
}
.tile-button{
  display:flex; flex-direction:column; align-items:center; justify-content:center;
  width:260px; height:150px; border:none; border-radius:16px; cursor:pointer;
  background:rgba(255, 194, 102, .95); /* 旧オレンジを上品に */
  color:#fff; font-size:22px; font-weight:900; letter-spacing:.2px;
  transition:transform .12s ease, filter .12s ease, opacity .12s ease;
  position:relative; text-align:center;
}
.tile-button:hover{ transform:translateY(-1px); filter:brightness(1.03); }
.tile-button:active{ transform:translateY(0); }

.tile-button select,
.tile-button input[type="file"]{
  opacity:0; position:absolute; inset:0; width:100%; height:100%; cursor:pointer;
}

.piece-count-display{
  margin-top:8px;
  font-size:18px;
  font-weight:700;
  color:#fff;
}

.tile-button.primary{
  background:linear-gradient(180deg, var(--accent) 0%, #4e6cf3 100%);
}

#start-button[disabled], #start-button[aria-disabled="true"]{
  opacity:.5; cursor:not-allowed; filter:saturate(.7);
}

/* プレビュー */
.preview{
  display:none; padding:10px; width:260px; border-radius:16px;
  background:rgba(255,255,255,.7); backdrop-filter:saturate(140%) blur(6px);
}
.preview img{ width:100%; height:auto; display:block; border-radius:12px }

/* ゲーム画面 */
.game-header{
  display:flex; align-items:center; justify-content:space-between; gap:12px; padding:10px 12px;
}
.game-header h1{
  font-size:20px; margin:6px 0 8px; font-weight:900; letter-spacing:.2px;
}

.title-wrap{ flex:1; min-width:0 }

.progress{
  width:100%; height:10px; background:#eef2ff; border-radius:999px; overflow:hidden;
}
.progress-bar{
  height:100%; width:0%; background:linear-gradient(90deg, var(--accent) 0%, var(--accent-weak) 100%);
  transition:width .2s ease;
}
.progress-text{ font-size:12px; color:var(--muted); margin-top:6px; font-weight:700 }

#zoom-slider{
  width:120px;
  accent-color:var(--accent);
}

.btn{
  appearance:none; border:0; border-radius:14px; padding:10px 14px; font-weight:800; cursor:pointer;
}
.btn.ghost{ background:transparent; color:var(--ink) }
.btn.primary{ background:linear-gradient(180deg, var(--accent) 0%, #4e6cf3 100%); color:#fff }

.game-container{
  width:100%; min-height:60vh; position:relative; overflow:visible;
  background:radial-gradient(120% 150% at 30% 10%, #f9fbff 0%, #eef3ff 45%, #eaf0ff 100%);
}

/* クリア画面 */
#game-clear-screen h1{ color:#f5a623; text-align:center; font-size:28px }
#game-clear-screen img{ max-width:80%; height:auto; display:block; margin:20px auto }

/* トースト */
.toast{
  position:fixed; left:50%; bottom:18px; transform:translateX(-50%);
  background:#111; color:#fff; padding:10px 14px; border-radius:12px; font-weight:800;
  box-shadow:var(--shadow); opacity:0; pointer-events:none;
  transition:opacity .18s ease, transform .18s ease; z-index:9999;
}
.toast.show{ opacity:1; transform:translate(-50%, -6px) }

/* 紙吹雪 */
.confetti-layer{ position:fixed; inset:0; pointer-events:none; overflow:hidden; z-index:9998 }
.confetti{
  position:absolute; width:8px; height:12px; border-radius:2px; opacity:.95;
  will-change:transform, opacity;
}

/* 既存の色を全体トーンに合わせて更新 */
h1, label, select, button{ color:var(--ink) }
select{
  background:#fff; color:var(--ink); border:2px solid #e0e6ff; padding:10px; font-size:18px;
  border-radius:10px; margin-top:10px; font-weight:700;
}
option{ background:#fff; color:#222; font-size:18px }

/* 旧スタイルの上書き（不要な濃紫は撤去） */
body, #game-container{ background-color:transparent !important; }
